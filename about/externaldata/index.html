
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Processing data from ODK to OpenStreetMap format, and other field data collection utils.">
      
      
      
        <link rel="canonical" href="https://www.hotosm.org/about/externaldata/">
      
      
        <link rel="prev" href="../../api/update_xlsform/">
      
      
        <link rel="next" href="../conflation/">
      
      
      <link rel="icon" href="../../images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.42">
    
    
      
        <title>External Data - osm-fieldwork</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#dealing-with-external-data-in-odk" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="osm-fieldwork" class="md-header__button md-logo" aria-label="osm-fieldwork" data-md-component="logo">
      
  <img src="../../images/hot_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            osm-fieldwork
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              External Data
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/hotosm/osm-fieldwork/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    hotosm/osm-fieldwork
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="osm-fieldwork" class="md-nav__button md-logo" aria-label="osm-fieldwork" data-md-component="logo">
      
  <img src="../../images/hot_logo.png" alt="logo">

    </a>
    osm-fieldwork
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hotosm/osm-fieldwork/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    hotosm/osm-fieldwork
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Get Started
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Get Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../About/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../FAQ/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHANGELOG/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changelog
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://docs.hotosm.org/code-of-conduct" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code of Conduct
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../LICENSE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://docs.hotosm.org/dev-guide/version-control/#creating-releases" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Versioning
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../user-manual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User Manual
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Core Program Usage
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Core Program Usage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../odk_client/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ODK Client
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../make_data_extract/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    make_data_extract
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Utility Program Usage
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Utility Program Usage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../odk2osm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    odk2osm
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/OdkCentral/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ODK Central
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/OdkCentralAsync/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ODK Central (Async)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/basemapper/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    basemapper
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/make_data_extract/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    make_data_extract
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/convert/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    convert
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/sqlite/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sqlite
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/osmfile/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    osmfile
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/yamlfile/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    yamlfile
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/ODKInstance.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ODKInstance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/ODKForm.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ODKForm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/filter_data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    filter_data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/update_xlsform/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    update_xlsform
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Deep Tech Dives
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Deep Tech Dives
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    External Data
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    External Data
  </span>
  

      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="Page contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Page contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#external-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      External Datasets
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-the-geojson-file" class="md-nav__link">
    <span class="md-ellipsis">
      Creating the GeoJson file
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#naming-conflicts" class="md-nav__link">
    <span class="md-ellipsis">
      Naming Conflicts
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-filtering" class="md-nav__link">
    <span class="md-ellipsis">
      Data filtering
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#debugging-select_from-file-with-geojson" class="md-nav__link">
    <span class="md-ellipsis">
      Debugging select_from file with GeoJson
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Debugging select_from file with GeoJson">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#disable-the-map-appearance" class="md-nav__link">
    <span class="md-ellipsis">
      Disable the map appearance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#display-calculated-values" class="md-nav__link">
    <span class="md-ellipsis">
      Display calculated values
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-dialog" class="md-nav__link">
    <span class="md-ellipsis">
      Error Dialog
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../conflation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data conflation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Config File
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../xlsforms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    XLSForm Design
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../odk-entities/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ODK Entities
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apidocs/html/inherits.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Class Hierarchy
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="Page contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Page contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#external-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      External Datasets
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-the-geojson-file" class="md-nav__link">
    <span class="md-ellipsis">
      Creating the GeoJson file
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#naming-conflicts" class="md-nav__link">
    <span class="md-ellipsis">
      Naming Conflicts
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-filtering" class="md-nav__link">
    <span class="md-ellipsis">
      Data filtering
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#debugging-select_from-file-with-geojson" class="md-nav__link">
    <span class="md-ellipsis">
      Debugging select_from file with GeoJson
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Debugging select_from file with GeoJson">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#disable-the-map-appearance" class="md-nav__link">
    <span class="md-ellipsis">
      Disable the map appearance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#display-calculated-values" class="md-nav__link">
    <span class="md-ellipsis">
      Display calculated values
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-dialog" class="md-nav__link">
    <span class="md-ellipsis">
      Error Dialog
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="dealing-with-external-data-in-odk">Dealing with External Data in ODK<a class="headerlink" href="#dealing-with-external-data-in-odk" title="Permanent link">&para;</a></h1>
<h2 id="external-datasets">External Datasets<a class="headerlink" href="#external-datasets" title="Permanent link">&para;</a></h2>
<p><a href="https://www.getodk.org">ODK Collect</a> has recently gained the ability
to load an external data file in GeoJson format of existing data. It's
now possible to select existing data and then import its values into
the XForm as default values. This lets the mapper use the XForm to
change the existing data, or add to it. Any changes will need to be
conflated later, that'll be another document.</p>
<p><strong>Why do I want to use ODK Collect to edit map data?</strong> Much of what is
currently in <a href="https:www.openstreetmap.org">OpenStreetMap</a> is lacking
metadata, or the data has changed, like when a restaurant changes
owners and gets a new name. Also most all remote mapping using
satellite imagery lacks tags beyond <em>building=yes</em>. When we are doing
a ground data collection project, we want to add useful tags like the
building material, or whether it's a cafe or a hospital.</p>
<p>Old imports also bring in problems, for example the infamous <a href="https://wiki.openstreetmap.org/wiki/TIGER">TIGER
import</a>. Mappers have been
cleaning that mess in North America up for over a decade. But an old
import may have a weird value for an OSM tag, and it's usually better
to update to a more community approved data model. The beauty and the
curse of OSM data is its wonderful flexibility. People do invent new
tags for a specific mapping campaign or import that doesn't get
reviewed. Sometimes values have embedded quote marks or weird
capitalization, and other strange formatting worth correcting.</p>
<h2 id="creating-the-geojson-file">Creating the GeoJson file<a class="headerlink" href="#creating-the-geojson-file" title="Permanent link">&para;</a></h2>
<p>When working with OSM data, there are multiple sources to obtain the
required data. One option is to download a daily database dump from
<a href="http://download.geofabrik.de/index.html">GeoFabrik</a>, which can be
used as a flat file or imported into a database. The <a href="https://www.hotosm.org">Humanitarian
OpenStreetMap Team(HOT)</a> maintains two
projects that can also be used for data extracts. The primary one has
a web based user interface, and is called the <a href="https://export.hotosm.org/en/v3/">HOT Export
Tool</a>. The other option runs in a
terminal and is part of <a href="https://github.com/hotosm/osm-fieldwork/wiki">OSM
Fieldwork</a> project, and
is also used as part of the <a href="https://github.com/hotosm/fmtm/wiki">Field Mapping Tasking
Manager</a> backend. That program is
<a href="https://github.com/hotosm/osm-fieldwork/blob/main/osm_fieldwork/make_data_extract.py">available
here</a>. Alternatively,
<a href="https://overpass-turbo.eu/">Overpass Turbo</a> can also be used to query
the data but you have to understand the Overpass query syntax.</p>
<p>It's important to keep in mind that there is a translation between
the column names obtained from querying the data and how ODK Collect
views it. There is also a translation from ODK to OSM, and it's
important to ensure that all translations work together seamlessly for
a smooth data flow. To maintain clarity, it's best to keep all tags
and values as similar as possible, with unique names. When using
<a href="https://gdal.org/programs/ogr2ogr.html">ogr2ogr</a> for data extraction
from a Postgres database, there is more control than when using
Overpass, and larger datasets can be processed. You can clean up all
the tag names later if you add a custom config file for the
conversion.</p>
<p>As the GeoJson file gets turned into an XPATH components when
converted to an XForm, the actual filename without the suffix becomes
a node in the XPATH, so you can't have a survey question using the
same name as the filename. It is prefered to have the name using the
actual OSM tag instead of the file. If you get this error, you need to
rename the GeoJson file.</p>
<div class="highlight"><pre><span></span><code>Duplicate type: &#39;choice&#39;, Duplicate URI: &#39;None&#39;, Duplicate context: &#39;survey&#39;.
</code></pre></div>
<h2 id="naming-conflicts">Naming Conflicts<a class="headerlink" href="#naming-conflicts" title="Permanent link">&para;</a></h2>
<p>If you do want to use an OSM tag name in a calculate field, a
technique for maintaining consistency is to prefix an <em>x</em> to the start
of each column name, so <em>healthcare</em> becomes <em>xhealthcare</em>. Then, in
the XLSForm, <em>healthcare</em> can be used for the instance, and
<em>xhealthcare</em> can be used for the value in the calculation column in
the survey sheet. The name column in the survey sheet can then be just
<em>healthcare</em>, which will translate directly into its OSM tag
equivalent. For this example note that the GeoJson file must not be
named healthcare.geojson, because it'll conflict with
_<em>healthcare</em>. You can also avoid this by having the calculation in
the same row as the survey question and avoiding the variable. If you
do that, add a trigger for the geojson file, and it'll populate the
default value for the question.</p>
<p>It's possible to support almost any value using a text type in the
XLSForm, but it's better to have an approved value for tag validation
and completeness. If using a data model, the list of choices for a tag
is defined, and anything outside of that will cause an
error. Therefore, it's important to adhere to validated data models to
avoid introducing errors or inconsistencies into the dataset. If the
SQL query returns columns that aren't compatible with the XLSForm,
XPATH errors will occur in ODK Collect.</p>
<p>Something else to consider is the frequency of the tags and
values. Since almost anything can be added to OSM, there are a lot of
obscure ones. It's strongly suggested to use more common tags and
values. A resource for this is the
<a href="https://taginfo.openstreetmap.org/">Taginfo</a> website, which lists
everything every used in OSM. There are two columns of interest, one
is whether the tag is on the <a href="https://wiki.openstreetmap.org/wiki/Map_features">OSM
wiki</a>, and the other
is how many times that tag is used. I try to use tags that are on the
wiki whenever possible, or at least have high frequency counts.</p>
<h2 id="data-filtering">Data filtering<a class="headerlink" href="#data-filtering" title="Permanent link">&para;</a></h2>
<p>For the external file to load properly in ODK Collect, any tags and
values in the data extract must be in the choices sheet. Otherwise ODK
Collect will fail to launch. The <a href="https://github.com/hotosm/osm-fieldwork/wiki">OSM
Fieldwork</a> project has a
<a href="https://github.com/hotosm/osm-fieldwork/blob/main/osm_fieldwork/filter_data.py">utility
program</a>
which can be imported into other python programs that scans the
XLSForm choices sheet, and removes anything in the data extract that
isn't supported as a choice.</p>
<h2 id="debugging-select_from-file-with-geojson">Debugging select_from file with GeoJson<a class="headerlink" href="#debugging-select_from-file-with-geojson" title="Permanent link">&para;</a></h2>
<p>Debugging complex interactions between the XLSForm, external data
files, and ODK Collect can be a challenging task. Here are a few
tricks to help debug what is going on. I strongly suggest developing
your XLSForm initially without the data extracts. That way you can use
<a href="https://enketo.org/">Enketo</a>, which you can access using the
<strong>Preview</strong> button in ODK Central. Get all the survey questions,
grouping, conditional, etc... so it's easy to test with
Enketo. Enketo doesn't work with the GeoJson based data extract. Then
add the data extract, and the calculation column entries to use the
OSM data to set the survey question default value.</p>
<h3 id="disable-the-map-appearance">Disable the map appearance<a class="headerlink" href="#disable-the-map-appearance" title="Permanent link">&para;</a></h3>
<p>When working with external data, the <em>map value</em> in the <em>appearance</em>
column of the survey sheet is often used. However, this can slow down
the debugging process. To make it more efficient, you can turn off the
map values and use the select menu instead. That works especially well
if you have a small data file for testing, because then it's easy to
cycle between them.</p>
<p>To use the placement map, here's an example.</p>
<table>
<thead>
<tr>
<th>type</th>
<th>name</th>
<th>label</th>
<th>appearance</th>
</tr>
</thead>
<tbody>
<tr>
<td>select_one_from_file <strong>camp_sites.geojson</strong></td>
<td>existing</td>
<td>Existing Campsites</td>
<td>map</td>
</tr>
</tbody>
</table>
<p>And an example where the values in the data file are an inline select
menu instead.</p>
<table>
<thead>
<tr>
<th>type</th>
<th>name</th>
<th>label</th>
<th>appearance</th>
</tr>
</thead>
<tbody>
<tr>
<td>select_one_from_file <strong>camp_sites.geojson</strong></td>
<td>existing</td>
<td>Existing Campsites</td>
<td>minimal</td>
</tr>
</tbody>
</table>
<h3 id="display-calculated-values">Display calculated values<a class="headerlink" href="#display-calculated-values" title="Permanent link">&para;</a></h3>
<p>Often the bug you are trying to find is obscure, and you may not see
any of the data file values being propagated into ODK Collect, even if
it was working previously. In such cases, you can add a text survey
question to display any of the values. Here's an example:</p>
<table>
<thead>
<tr>
<th>type</th>
<th>name</th>
<th>label</th>
<th>calculation</th>
<th>trigger</th>
</tr>
</thead>
<tbody>
<tr>
<td>calculate</td>
<td>xid</td>
<td>OSM ID</td>
<td>instance(“camp_sites”)/root/item[id=${existing}]/id</td>
<td></td>
</tr>
<tr>
<td>calculate</td>
<td>xlabel</td>
<td>Get the label</td>
<td>instance(“camp_sites”)/root/item[id=${existing}]/title</td>
<td></td>
</tr>
<tr>
<td>calculate</td>
<td>xref</td>
<td>Reference number</td>
<td>instance(“camp_sites”)/root/item[id=${existing}]/ref</td>
<td></td>
</tr>
<tr>
<td>calculate</td>
<td>xlocation</td>
<td>Location</td>
<td>instance(“camp_sites”)/root/item[id=${existing}]/geometry</td>
<td></td>
</tr>
<tr>
<td>calculate</td>
<td>xtourism</td>
<td>camping type</td>
<td>instance(“camp_sites”)/root/item[id=${existing}]/tourism</td>
<td></td>
</tr>
<tr>
<td>calculate</td>
<td>xleisure</td>
<td>leisure type</td>
<td>instance(“camp_sites”)/root/item[id=${existing}]/leisure</td>
<td></td>
</tr>
<tr>
<td>text</td>
<td>debug1</td>
<td>Leisure</td>
<td>${<span style="color:red">xleisure}</td>
<td>${existing}</td>
</tr>
<tr>
<td>text</td>
<td>debug2</td>
<td>OSM ID</td>
<td>${<span style="color:red">xid</span>}</td>
<td>${existing}</td>
</tr>
<tr>
<td>text</td>
<td>debug3</td>
<td>Ref number</td>
<td>${<span style="color:red">xref</span>}</td>
<td>${existing}</td>
</tr>
<tr>
<td>text</td>
<td>debug4</td>
<td>Tourism</td>
<td>${<span style="color:red">xtourism</span>}</td>
<td>${existing}</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>text</td>
<td>name</td>
<td>Business Name</td>
<td>${<span style="color:red">xlabel</span>}</td>
<td>${existing}</td>
</tr>
</tbody>
</table>
<p>For a value that is only used once to set the default value in
Collect, you can also reference it in the same row. This saves
potential naming conflicts, although is why I use an <strong>x</strong> prefix for
gobal values.</p>
<table>
<thead>
<tr>
<th>type</th>
<th>name</th>
<th>label</th>
<th>calculation</th>
<th>trigger</th>
</tr>
</thead>
<tbody>
<tr>
<td>text</td>
<td>name</td>
<td>Business Name</td>
<td>instance(“camp_sites”)/root/item[id=${existing}]/name</td>
<td>${existing}</td>
</tr>
</tbody>
</table>
<h3 id="error-dialog">Error Dialog<a class="headerlink" href="#error-dialog" title="Permanent link">&para;</a></h3>
<p>Assuming xls2xform is happy, sometimes you get this error message in
ODK Collect when switching screens. You'll see this when you have a
value in your data file for a <em>select_one</em> survey question, but that
value is not in the list of values in the choices sheet for that tag. In
this example, there is no <em>doctor</em> value in the <em>healthcare</em>
selection in the choices sheet. If you use the data filtering utility
program mentioned above, you'll never see this error.</p>
<p><img alt="XPath Error" src="../xlsimages/image1.jpg" width="500" /></p>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">March 11, 2025</span>
  </span>

    
    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/hotosm/" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/hotosm" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.hotosm.org" target="_blank" rel="noopener" title="www.hotosm.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M352 256c0 22.2-1.2 43.6-3.3 64H163.4c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64h185.3c2.2 20.4 3.3 41.8 3.3 64m28.8-64h123.1c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64m112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6 78.3 20.7 142 77.5 171.9 151.6zm-149.1 0H167.7c6.1-36.4 15.5-68.6 27-94.7 10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5 11.6 26 20.9 58.2 27 94.7m-209 0H18.6c30-74.1 93.6-130.9 172-151.6-25.5 34.2-45.3 87.7-55.3 151.6M8.1 192h123.1c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64m186.6 254.6c-11.6-26-20.9-58.2-27-94.6h176.6c-6.1 36.4-15.5 68.6-27 94.6-10.5 23.6-22.2 40.7-33.5 51.5-11.2 10.7-20.5 13.9-27.8 13.9s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6-78.4-20.7-142-77.5-172-151.6zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6 25.5-34.2 45.2-87.7 55.3-151.6h116.7z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  </body>
</html>